<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height">
    <title>ç¼–è¾‘ç¬”è®°</title>

    <!-- TODOï¼šè½¬ä¸ºå¼•ç”¨é¡¹ç›®ä¸­çš„æ–‡ä»¶ -->
    <link rel="stylesheet" href="https://unpkg.com/@wangeditor/editor@latest/dist/css/style.css">
    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <div class="bottom-area">
        <div class="btn" onclick="onClickSaveBtn()">
            <img class="btn-icon" src="./images/bottom/draft-icon.png">
            <div class="btn-txt">ä¿å­˜</div>
        </div>
        <div class="btn" onclick="onClickSaveBtn()">
            <img class="btn-icon" src="./images/bottom/draft-icon.png">
            <div class="btn-txt">å¤åˆ¶æ ‡é¢˜</div>
        </div>
        <div class="btn" onclick="onClickSaveBtn()">
            <img class="btn-icon" src="./images/bottom/draft-icon.png">
            <div class="btn-txt">å¤åˆ¶æ­£æ–‡</div>
        </div>
        <div class="btn" onclick="onClickSaveBtn()">
            <img class="btn-icon" src="./images/bottom/filter-icon.png">
            <div class="btn-txt">å†…å®¹è¿‡æ»¤</div>
        </div>
        <div class="preview-btn">é¢„è§ˆç¬”è®°</div>
    </div>
    <!-- æ ‡é¢˜ -->
    <div class="title-container">
        <input class="title-input" type="text" placeholder="å¡«å†™æ ‡é¢˜ä¼šæœ‰æ›´å¤šèµå“¦ï½" maxlength="40">
        <div class="title-word-count">20</div>
    </div>
    <div class="line"></div>
    <div class="body-container">
        <div id="body-editor"></div>
    </div>
    <div class="body-word-count">239/1000</div>
    <!-- <button type="button" onclick="render()">Click Me!</button> -->

    <div class="tool-bar">
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/all-icon.png">
        </div>
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/heading-icon.png">
        </div>
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/ol-icon.png">
        </div>
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/ul-icon.png">
        </div>
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/el-icon.png">
        </div>
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/emoji-icon.png">
        </div>
        <div class="tool-item">
            <img class="tool-icon" src="./images/tool/topic-icon.png">
        </div>
        <div class="fold-keyboard-btn" catchtouchend="onClickKeyboardBtn">
            <img class="fold-keyboard-icon" src="./images/tool/keyboard-icon.png"></img>
        </div>
    </div>
    <div class="tool-container">

    </div>

    <script src="https://unpkg.com/@wangeditor/editor@latest/dist/index.js"></script>
    <script>
        var E = window.wangEditor; // å…¨å±€å˜é‡
        const { createEditor, createToolbar } = window.wangEditor

        // ç¼–è¾‘å™¨é…ç½®
        const editorConfig = {}
        editorConfig.placeholder = 'æ·»åŠ æ­£æ–‡'
       
        editorConfig.onChange = (editor) => {
            // å½“ç¼–è¾‘å™¨é€‰åŒºã€å†…å®¹å˜åŒ–æ—¶ï¼Œå³è§¦å‘
            console.log('content', editor.children)
            console.log('html', editor.getHtml())
            console.log('text', editor.getText())
            if (/<p>- /.test(editor.getHtml())) {
                let newHtml = editor.getHtml().replace(/<p>- /g, '<p>ğŸ˜„')
                console.log(newHtml);
                setTimeout(() => editor.setHtml(newHtml))
            }
        }

        function render() {
            editor.setHtml('<p>hello world</p>')
        }

        // åˆ›å»ºç¼–è¾‘å™¨
        const editor = createEditor({
            selector: '#body-editor',
            config: editorConfig,
            mode: 'default' // æˆ– 'simple' å‚è€ƒä¸‹æ–‡
        })

    </script>
</body>
</html>